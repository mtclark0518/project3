{"version":3,"sources":["../../../../src/app/typescripts/free/modals/modal.directive.ts"],"names":[],"mappings":"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","file":"modal.directive.js","sourceRoot":"","sourcesContent":["import {\r\n  AfterViewInit,\r\n  ComponentRef,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  Renderer, ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { document } from '../utils/facade/browser';\r\n\r\nimport { isBs3 } from '../utils/ng2-bootstrap-config';\r\nimport { Utils } from '../utils/utils.class';\r\nimport { ModalBackdropComponent } from './modalBackdrop.component';\r\nimport { ClassName, modalConfigDefaults, ModalOptions, Selector, DISMISS_REASONS } from './modal.options';\r\n\r\nimport { window } from '../utils/facade/browser';\r\nimport { ComponentLoader } from '../utils/component-loader/component-loader.class';\r\nimport { ComponentLoaderFactory } from '../utils/component-loader/component-loader.factory';\r\n\r\nconst TRANSITION_DURATION = 300;\r\nconst BACKDROP_TRANSITION_DURATION = 150;\r\n\r\n/** Mark any code with directive to show it's content in modal */\r\n\r\nexport class ModalDirective implements AfterViewInit, OnDestroy {\r\n  /** allows to set modal configuration via element property */\r\n  \r\n  public set config(conf: ModalOptions) {\r\n    this._config = this.getConfig(conf);\r\n  }\r\n\r\n  public get config(): ModalOptions {\r\n    return this._config;\r\n  }\r\n\r\n  /** This event fires immediately when the `show` instance method is called. */\r\n   public onShow: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n  /** This event is fired when the modal has been made visible to the user (will wait for CSS transitions to complete) */\r\n   public onShown: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n  /** This event is fired immediately when the hide instance method has been called. */\r\n   public onHide: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n  /** This event is fired when the modal has finished being hidden from the user (will wait for CSS transitions to complete). */\r\n   public onHidden: EventEmitter<ModalDirective> = new EventEmitter<ModalDirective>();\r\n\r\n  // seems like an Options\r\n  public isAnimated = true;\r\n  /** This field contains last dismiss reason.\r\n  Possible values: `backdrop-click`, `esc` and `null` (if modal was closed by direct call of `.hide()`). */\r\n  public dismissReason: string;\r\n\r\n  public get isShown(): boolean {\r\n    return this._isShown;\r\n  }\r\n\r\n  protected _config: ModalOptions;\r\n  protected _isShown = false;\r\n\r\n  protected isBodyOverflowing = false;\r\n  protected originalBodyPadding = 0;\r\n  protected scrollbarWidth = 0;\r\n\r\n  protected timerHideModal: any = 0;\r\n  protected timerRmBackDrop: any = 0;\r\n\r\n  // constructor props\r\n  protected _element: ElementRef;\r\n  protected _renderer: Renderer;\r\n\r\n  // reference to backdrop component\r\n  protected backdrop: ComponentRef<ModalBackdropComponent>;\r\n  private _backdrop: ComponentLoader<ModalBackdropComponent>;\r\n  // todo: implement _dialog\r\n  private _dialog: any;\r\n\r\n  private isNested = false;\r\n\r\n  \r\n  public onClick(event: any): void {\r\n    if (this.config.ignoreBackdropClick || this.config.backdrop === 'static' || event.target !== this._element.nativeElement) {\r\n      return;\r\n    }\r\n    this.dismissReason = DISMISS_REASONS.BACKRDOP;\r\n    this.hide(event);\r\n  }\r\n\r\n  // todo: consider preventing default and stopping propagation\r\n  \r\n  public onEsc(): void {\r\n    if (this.config.keyboard) {\r\n      this.dismissReason = DISMISS_REASONS.ESC;\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  public constructor(_element: ElementRef, _viewContainerRef: ViewContainerRef, _renderer: Renderer, clf: ComponentLoaderFactory) {\r\n    this._element = _element;\r\n    this._renderer = _renderer;\r\n    this._backdrop = clf.createLoader<ModalBackdropComponent>(_element, _viewContainerRef, _renderer);\r\n  }\r\n\r\n  public ngOnDestroy(): any {\r\n    this.config = void 0;\r\n    if (this._isShown) {\r\n      this._isShown = false;\r\n      this.hideModal();\r\n      this._backdrop.dispose();\r\n    }\r\n  }\r\n\r\n  public ngAfterViewInit(): any {\r\n    this._config = this._config || this.getConfig();\r\n    setTimeout(() => {\r\n      if (this._config.show) {\r\n        this.show();\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  /* Public methods */\r\n\r\n  /** Allows to manually toggle modal visibility */\r\n  public toggle(): void {\r\n    return this._isShown ? this.hide() : this.show();\r\n  }\r\n\r\n  /** Allows to manually open modal */\r\n  public show(): void {\r\n    this.dismissReason = null;\r\n    this.onShow.emit(this);\r\n    if (this._isShown) {\r\n      return;\r\n    }\r\n    clearTimeout(this.timerHideModal);\r\n    clearTimeout(this.timerRmBackDrop);\r\n\r\n    this._isShown = true;\r\n\r\n    this.checkScrollbar();\r\n    this.setScrollbar();\r\n\r\n    if (document && document.body) {\r\n      if (document.body.classList.contains(ClassName.OPEN)) {\r\n        this.isNested = true;\r\n      } else {\r\n        this._renderer.setElementClass(document.body, ClassName.OPEN, true);\r\n      }\r\n    }\r\n\r\n    this.showBackdrop(() => {\r\n      this.showElement();\r\n    });\r\n  }\r\n\r\n  /** Allows to manually close modal */\r\n  public hide(event?: Event): void {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    this.onHide.emit(this);\r\n\r\n    // todo: add an option to prevent hiding\r\n    if (!this._isShown) {\r\n      return;\r\n    }\r\n\r\n    clearTimeout(this.timerHideModal);\r\n    clearTimeout(this.timerRmBackDrop);\r\n\r\n    this._isShown = false;\r\n    this._renderer.setElementClass(this._element.nativeElement, ClassName.IN, false);\r\n    if (!isBs3()) {\r\n      this._renderer.setElementClass(this._element.nativeElement, ClassName.SHOW, false);\r\n    }\r\n\r\n    if (this.isAnimated) {\r\n      this.timerHideModal = setTimeout(() => this.hideModal(), TRANSITION_DURATION);\r\n    } else {\r\n      this.hideModal();\r\n    }\r\n  }\r\n\r\n  /** Private methods @internal */\r\n  protected getConfig(config?: ModalOptions): ModalOptions {\r\n    return Object.assign({}, modalConfigDefaults, config);\r\n  }\r\n\r\n  /**\r\n   *  Show dialog\r\n   *  @internal\r\n   */\r\n   protected showElement(): void {\r\n     // todo: replace this with component loader usage\r\n     if (!this._element.nativeElement.parentNode ||\r\n       (this._element.nativeElement.parentNode.nodeType !== Node.ELEMENT_NODE)) {\r\n       // don't move modals dom position\r\n     if (document && document.body) {\r\n       document.body.appendChild(this._element.nativeElement);\r\n     }\r\n   }\r\n\r\n   this._renderer.setElementAttribute(this._element.nativeElement, 'aria-hidden', 'false');\r\n   this._renderer.setElementStyle(this._element.nativeElement, 'display', 'block');\r\n   this._renderer.setElementProperty(this._element.nativeElement, 'scrollTop', 0);\r\n\r\n   if (this.isAnimated) {\r\n     Utils.reflow(this._element.nativeElement);\r\n   }\r\n\r\n   this._renderer.setElementClass(this._element.nativeElement, ClassName.IN, true);\r\n   if (!isBs3()) {\r\n     this._renderer.setElementClass(this._element.nativeElement, ClassName.SHOW, true);\r\n   }\r\n\r\n   const transitionComplete = () => {\r\n     if (this._config.focus) {\r\n       this._element.nativeElement.focus();\r\n     }\r\n     this.onShown.emit(this);\r\n   };\r\n\r\n   if (this.isAnimated) {\r\n     setTimeout(transitionComplete, TRANSITION_DURATION);\r\n   } else {\r\n     transitionComplete();\r\n   }\r\n }\r\n\r\n /** @internal */\r\n protected hideModal(): void {\r\n   this._renderer.setElementAttribute(this._element.nativeElement, 'aria-hidden', 'true');\r\n   this._renderer.setElementStyle(this._element.nativeElement, 'display', 'none');\r\n   this.showBackdrop(() => {\r\n     if (!this.isNested) {\r\n       if (document && document.body) {\r\n         this._renderer.setElementClass(document.body, ClassName.OPEN, false);\r\n       }\r\n       this.resetScrollbar();\r\n     }\r\n     this.resetAdjustments();\r\n     this.focusOtherModal();\r\n     this.onHidden.emit(this);\r\n   });\r\n }\r\n\r\n // todo: original show was calling a callback when done, but we can use promise\r\n /** @internal */\r\n protected showBackdrop(callback?: Function): void {\r\n   if (this._isShown && this.config.backdrop && (!this.backdrop || !this.backdrop.instance.isShown)) {\r\n     this.removeBackdrop();\r\n     this._backdrop\r\n     .attach(ModalBackdropComponent)\r\n     .to('body')\r\n     .show({isAnimated: this.isAnimated});\r\n     this.backdrop = this._backdrop._componentRef;\r\n\r\n     if (!callback) {\r\n       return;\r\n     }\r\n\r\n     if (!this.isAnimated) {\r\n       callback();\r\n       return;\r\n     }\r\n\r\n     setTimeout(callback, BACKDROP_TRANSITION_DURATION);\r\n   } else if (!this._isShown && this.backdrop) {\r\n     this.backdrop.instance.isShown = false;\r\n\r\n     const callbackRemove = () => {\r\n       this.removeBackdrop();\r\n       if (callback) {\r\n         callback();\r\n       }\r\n     };\r\n\r\n     if (this.backdrop.instance.isAnimated) {\r\n       this.timerRmBackDrop = setTimeout(callbackRemove, BACKDROP_TRANSITION_DURATION);\r\n     } else {\r\n       callbackRemove();\r\n     }\r\n   } else if (callback) {\r\n     callback();\r\n   }\r\n }\r\n\r\n /** @internal */\r\n protected removeBackdrop(): void {\r\n   this._backdrop.hide();\r\n }\r\n\r\n\r\n protected focusOtherModal() {\r\n   const otherOpenedModals = this._element.nativeElement.parentElement.querySelectorAll('.in[mdbModal]');\r\n   if (!otherOpenedModals.length) {\r\n     return;\r\n   }\r\n   this._renderer.invokeElementMethod(otherOpenedModals[otherOpenedModals.length - 1], 'focus');\r\n }\r\n\r\n /** @internal */\r\n protected resetAdjustments(): void {\r\n   this._renderer.setElementStyle(this._element.nativeElement, 'paddingLeft', '');\r\n   this._renderer.setElementStyle(this._element.nativeElement, 'paddingRight', '');\r\n }\r\n\r\n /** Scroll bar tricks */\r\n /** @internal */\r\n protected checkScrollbar(): void {\r\n   this.isBodyOverflowing = document.body.clientWidth < window.innerWidth;\r\n   this.scrollbarWidth = this.getScrollbarWidth();\r\n }\r\n\r\n protected setScrollbar(): void {\r\n   if (!document) {\r\n     return;\r\n   }\r\n\r\n   this.originalBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right') || 0, 10);\r\n\r\n   if (this.isBodyOverflowing) {\r\n     document.body.style.paddingRight = `${this.originalBodyPadding + this.scrollbarWidth}px`;\r\n   }\r\n }\r\n\r\n protected resetScrollbar(): void {\r\n   document.body.style.paddingRight = this.originalBodyPadding;\r\n }\r\n\r\n // thx d.walsh\r\n protected getScrollbarWidth(): number {\r\n   const scrollDiv = this._renderer.createElement(document.body, 'div', void 0);\r\n   scrollDiv.className = ClassName.SCROLLBAR_MEASURER;\r\n   const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n   document.body.removeChild(scrollDiv);\r\n   return scrollbarWidth;\r\n }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\r\n  selector: '[mdbModal]',\r\n  exportAs: 'mdb-modal'\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: ViewContainerRef, },\n{type: Renderer, },\n{type: ComponentLoaderFactory, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'config': [{ type: Input },],\n'onShow': [{ type: Output },],\n'onShown': [{ type: Output },],\n'onHide': [{ type: Output },],\n'onHidden': [{ type: Output },],\n'onClick': [{ type: HostListener, args: ['click', ['$event'], ] },],\n'onEsc': [{ type: HostListener, args: ['keydown.esc', ] },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}